class Solution {
public:
long long countPairsLessEqual(vector<int>&nums ,int x){
    long long count = 0;
    int left = 0 ; 
    int right = nums.size()-1;
    while(left < right){
        if((long long)nums[left] + nums[right] <= x){
            count += (right - left);
            left++;
        }
        else{
            right--;
        }
    }
    return count;
}
    long long countFairPairs(vector<int>& nums, int lower, int upper) {
         sort(nums.begin() , nums.end());
return countPairsLessEqual(nums, upper) -
countPairsLessEqual(nums, lower - 1);

        }
};
